<!DOCTYPE html>
<html lang="en" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OpenWeb UI - G4F Integration Guide | GPT4Free Documentation</title>

    <meta name="description" content="GPT4Free documentation for OpenWeb UI - G4F Integration Guide. Complete guides, examples, and API reference for free AI endpoints, code generation, and AI model integration." />
    <meta name="keywords" content="GPT4Free, G4F, AI documentation, free AI API, OpenAI alternative, JavaScript AI client, Python AI library, AI integration, code generation, OpenWeb UI - G4F Integration Guide" />
    <meta name="author" content="GPT4Free Team" />

    <!-- Open Graph -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="OpenWeb UI - G4F Integration Guide | GPT4Free Documentation" />
    <meta property="og:description" content="GPT4Free documentation for OpenWeb UI - G4F Integration Guide. Free AI endpoints, examples, and comprehensive guides." />
    <meta property="og:url" content="https://g4f.dev/docs/openwebui-integration.html" />
    <meta property="og:site_name" content="GPT4Free Documentation" />
    <meta property="og:image" content="https://g4f.dev/dist/img/apple-touch-icon.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="OpenWeb UI - G4F Integration Guide | GPT4Free Documentation" />
    <meta name="twitter:description" content="Free AI endpoints and comprehensive documentation for OpenWeb UI - G4F Integration Guide." />
    <meta name="twitter:image" content="https://g4f.dev/dist/img/apple-touch-icon.png" />

    <!-- Canonical -->
    <link rel="canonical" href="https://g4f.dev/docs/openwebui-integration.html" />

    <link rel="apple-touch-icon" sizes="180x180" href="/dist/img/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/dist/img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/dist/img/favicon-16x16.png" />
    <link rel="manifest" href="/dist/img/site.webmanifest" />

    <!-- GitHub Primer CSS & styles -->
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light-74231a1f3bbb.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-8a995f0bacd4.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-225433424a87.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-b8b91660c29d.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-205098e9fedd.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-177d21388df8.css" />

    
    <style>
        :root {
            --accent: #8b3dff;
            --background: #16101b;
            --text-primary: #ddd;
            --text-secondary: #9b7dff;
            --card-bg: #1e152e;
            --border-color: #333;
            --hover-color: #a67eff;
        }

        body {
            margin: 0;
            padding: 0;
            background: var(--background);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            display: flex;
            max-width: 100%;
            margin: 0;
            padding: 2rem;
            gap: 3rem;
            min-height: calc(100vh - 4rem);
        }

        /* Enhanced main content styling */
        main {
            flex: 1;
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2.5rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.7);
            overflow-wrap: break-word;
            position: relative;
        }

        /* Typography improvements */
        .markdown-body h1 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            font-weight: 700;
            color: var(--text-primary);
            border-bottom: 3px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        .markdown-body h2 {
            margin-top: 3rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .markdown-body h3 {
            margin-top: 2rem;
            margin-bottom: 0.8rem;
            color: var(--text-primary);
        }

        .markdown-body p {
            margin-bottom: 1.2rem;
            color: var(--text-primary);
        }

        /* Enhanced link styling */
        .markdown-body a {
            color: var(--accent);
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .markdown-body a:hover,
        .markdown-body a:focus {
            color: var(--hover-color);
            outline: none;
            text-decoration: underline;
            text-shadow: 0 0 8px rgba(139, 61, 255, 0.3);
        }

        /* Enhanced code block styling */
        .markdown-body pre {
            border-radius: 12px;
            padding: 1.5rem !important;
            font-size: 0.95rem !important;
            overflow-x: auto;
            max-height: 500px;
            box-shadow: inset 0 0 12px rgba(0,0,0,0.6), 0 4px 20px rgba(0,0,0,0.4);
            color: #fff;
            border: 1px solid #3d2a5c;
            position: relative;
        }


        .markdown-body code {
            font-family: 'SF Mono', 'Cascadia Code', 'Roboto Mono', Consolas, Liberation Mono, Menlo, monospace;
            background: rgba(139, 61, 255, 0.1);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            color: #e6ccff;
            font-size: 0.9em;
        }

        .markdown-body pre code {
            background: transparent;
            padding: 0;
            color: var(--fgColor-default, var(--color-fg-default))
        }

        /* Table styling */
        .markdown-body table {
            border-collapse: collapse;
            width: 100%;
            margin: 2rem 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .markdown-body table th,
        .markdown-body table td {
            padding: 1rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        .markdown-body table th {
            background: var(--accent);
            color: white;
            font-weight: 600;
        }

        .markdown-body table tr:nth-child(even) {
            background: rgba(139, 61, 255, 0.05);
        }

        .markdown-body table tr {
            background-color: transparent;
        }

        /* List styling */
        .markdown-body ul, 
        .markdown-body ol {
            margin-bottom: 1.5rem;
            padding-left: 2rem;
        }

        .markdown-body li {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        /* Blockquote styling */
        .markdown-body blockquote {
            border-left: 4px solid var(--accent);
            background: rgba(139, 61, 255, 0.1);
            margin: 2rem 0;
            padding: 1rem 1.5rem;
            border-radius: 0 8px 8px 0;
        }

        /* HR styling */
        .markdown-body hr {
            border: none;
            border-top: 2px solid var(--accent);
            margin: 3rem 0;
            opacity: 0.6;
        }

        /* Sticky table of contents */
        nav#toc {
            flex: 0 0 280px;
            position: sticky;
            top: 2rem;
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.7);
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
            font-size: 0.9rem;
            line-height: 1.5;
            border: 1px solid rgba(139, 61, 255, 0.2);
        }

        nav#toc h2 {
            font-size: 1.4rem;
            margin: 0 0 1.5rem 0;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 0.5rem;
            color: var(--text-primary);
        }

        nav#toc ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        nav#toc li {
            margin-bottom: 0.8rem;
        }

        nav#toc a {
            color: var(--text-secondary);
            text-decoration: none;
            display: block;
            padding: 0.3rem 0.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        nav#toc a:hover, 
        nav#toc a:focus {
            background: rgba(139, 61, 255, 0.1);
            color: var(--hover-color);
            text-decoration: none;
            transform: translateX(4px);
        }

        /* Responsive design */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
                padding: 1rem;
                gap: 2rem;
            }

            nav#toc {
                position: relative;
                max-height: none;
                order: -1;
                flex: none;
            }

            .markdown-body h1 {
                font-size: 2.2rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0.5rem;
            }

            main {
                padding: 1.5rem;
            }

            .markdown-body h1 {
                font-size: 1.8rem;
            }

            .markdown-body pre {
                padding: 1rem !important;
                font-size: 0.85rem !important;
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus indicators */
        *:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        /* Print styles */
        @media print {
            .container {
                display: block;
            }
            
            nav#toc {
                display: none;
            }
            
            main {
                box-shadow: none;
                background: white;
                color: black;
            }
        }

        /* Loading animation for syntax highlighting */
        .highlight-loading {
            position: relative;
            opacity: 0.7;
        }

        .highlight-loading::after {
            content: 'Loading syntax highlighting...';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Translate Button Style */
        #translate-toggle {
            display: block;
            background: var(--accent);
            color: #fff;
            text-align: center;
            padding: 0.5rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            cursor: pointer;
            font-size: 0.9rem;
            border: none;
        }
        #google_translate_element {
            margin-bottom: 1rem;
        }
    </style>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TechArticle",
      "headline": "OpenWeb UI - G4F Integration Guide",
      "description": "GPT4Free documentation for OpenWeb UI - G4F Integration Guide. Complete guides, examples, and API reference for free AI endpoints.",
      "author": {
        "@type": "Organization",
        "@id": "https://g4f.dev/#organization",
        "name": "GPT4Free",
        "url": "https://g4f.dev",
        "logo": {
          "@type": "ImageObject",
          "url": "https://g4f.dev/dist/img/apple-touch-icon.png"
        }
      },
      "publisher": {
        "@type": "Organization",
        "@id": "https://g4f.dev/#organization"
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://g4f.dev/docs/openwebui-integration.html"
      },
      "datePublished": "2024-01-01T00:00:00Z",
      "dateModified": "2024-01-01T00:00:00Z",
      "inLanguage": "en",
      "isAccessibleForFree": true,
      "keywords": "GPT4Free, AI documentation, free AI API, code generation",
      "articleSection": "Documentation"
    }
    </script>
</head>
<body>
    <div class="container">
        <nav id="toc" aria-label="Table of contents" role="navigation">
            <!-- Translation Button -->
            <button id="translate-toggle">üåê Translate Page</button>
            <div id="google_translate_element" style="display:none;"></div>
            <h2>Contents</h2>
            <ul id="toc-list">
                <!-- Table of contents will be generated here -->
            </ul>
            <hr style="margin: 1.5rem 0; opacity: 0.3;">
            <ul>
                <li><a href="/docs/" aria-label="Return to documentation home">üìö Documentation Hub</a></li>
                <li><a href="/" aria-label="Return to main site">üè† G4F Home</a></li>
            </ul>
        </nav>

        <main role="main" class="markdown-body entry-content" itemprop="text" itemscope itemtype="https://schema.org/TechArticle">
            <div><h1>OpenWeb UI - G4F Integration Guide</h1></p><p>This guide explains how to integrate the g4f (GPT4Free) service with Open WebUI, enabling you to use g4f's providers, models, and MCP server tools.</p><p><h2>Overview</h2></p><p>G4F provides multiple integration points with Open WebUI:</p><p>1. <strong>MCP Server Integration</strong> - Access to web search, web scraping, and image generation tools<br>2. <strong>Custom Provider Configuration</strong> - Use g4f as an OpenAI-compatible API endpoint<br>3. <strong>Live Provider Support</strong> - Direct access to multiple AI providers through g4f<br>4. <strong>Conversation Context Management</strong> - Proper handling of chat history and context</p><p>For detailed conversation context handling, see <a href="review/context.md">Chat Conversation Context Guide</a>.</p><p><h2>Integration Methods</h2></p><p><h3>Method 1: MCP Server Integration (Recommended)</h3></p><p>The Model Context Protocol (MCP) server allows Open WebUI to access g4f tools like web search, scraping, and image generation.</p><p>#<h3>Setup MCP Server</h3></p><p>1. <strong>Start the g4f MCP Server</strong>:</p><p>   Using stdio transport (default):<br>   ```bash<br>   python -m g4f.mcp<br>   ```</p><p>   Or using HTTP transport:<br>   ```bash<br>   g4f mcp --http --port 8765 --host 0.0.0.0<br>   ```</p><p>2. <strong>Configure Open WebUI</strong>:</p><p>   Add to Open WebUI's MCP configuration file:</p><p>   <strong>For stdio mode</strong> (`~/.config/openwebui/mcp-config.json` or similar):<br>   ```json<br>   {<br>     "mcpServers": {<br>       "g4f": {<br>         "command": "python",<br>         "args": ["-m", "g4f.mcp"],<br>         "description": "GPT4Free tools for web search, scraping, and image generation"<br>       }<br>     }<br>   }<br>   ```</p><p>   <strong>For HTTP mode</strong>:<br>   ```json<br>   {<br>     "mcpServers": {<br>       "g4f": {<br>         "url": "http://localhost:8765/mcp",<br>         "transport": "http",<br>         "description": "GPT4Free tools for web search, scraping, and image generation"<br>       }<br>     }<br>   }<br>   ```</p><p>#<h3>Available MCP Tools</h3></p><p>Once configured, Open WebUI will have access to these tools:</p><p>- <strong>web_search</strong> - Search the web using DuckDuckGo<br>  ```json<br>  {<br>    "query": "latest AI developments",<br>    "max_results": 5<br>  }<br>  ```</p><p>- <strong>web_scrape</strong> - Extract and clean text from web pages<br>  ```json<br>  {<br>    "url": "https://example.com/article",<br>    "max_words": 1000<br>  }<br>  ```</p><p>- <strong>image_generation</strong> - Generate images from text prompts<br>  ```json<br>  {<br>    "prompt": "A serene mountain landscape at sunset",<br>    "width": 1024,<br>    "height": 1024<br>  }<br>  ```</p><p>For more details, see <a href="mcp-usage-guide.md">MCP Usage Guide</a>.</p><p><h3>Method 2: Custom Provider (OpenAI-Compatible API)</h3></p><p>Use g4f as a custom OpenAI-compatible provider in Open WebUI.</p><p>#<h3>Backend URL Configuration</h3></p><p>1. <strong>Using g4f.space API</strong> (hosted service):</p><p>   In Open WebUI settings, add a new custom provider:<br>   - <strong>Name</strong>: G4F<br>   - <strong>Base URL</strong>: `https://g4f.space/api`<br>   - <strong>API Key</strong>: Not required (or use a dummy value)<br>   - <strong>Model</strong>: `auto` or specific model like `gpt-4o-mini`</p><p>2. <strong>Using Local g4f Backend</strong>:</p><p>   If running g4f backend locally:<br>   - <strong>Base URL</strong>: `http://localhost:1337/v1` (adjust port as needed)<br>   - <strong>API Key</strong>: Not required<br>   - <strong>Model</strong>: Any supported model</p><p>#<h3>Provider Types</h3></p><p>G4F supports multiple provider types that can be configured in Open WebUI:</p><p>##<h3>Live Providers</h3></p><p>Direct access to third-party AI services:</p><p>| Provider | Base URL | Tags | Notes |<br>|----------|----------|------|-------|<br>| <strong>api.airforce</strong> | `https://api.airforce/v1` | üé® üëì | Images, Vision |<br>| <strong>pollinations</strong> | `https://pollinations.ai` | üé® üëì | Images, Vision |<br>| <strong>gemini</strong> | `https://generativelanguage.googleapis.com/v1beta/openai` | üëì | Vision |<br>| <strong>groq</strong> | `https://api.groq.com/openai/v1` | - | Fast inference |<br>| <strong>nvidia</strong> | `https://integrate.api.nvidia.com/v1` | üìü | High performance |<br>| <strong>ollama</strong> | `https://ollama.g4f-dev.workers.dev` | ü¶ô | Local models |<br>| <strong>openrouter</strong> | `https://openrouter.ai/api/v1` | üëì | Multiple models |<br>| <strong>deepinfra</strong> | Default | üé® üëì | Images, Vision |</p><p>##<h3>Custom Provider</h3></p><p>Configure any OpenAI-compatible endpoint:</p><p>```json<br>{<br>  "provider": "custom",<br>  "baseUrl": "http://your-custom-endpoint/v1",<br>  "apiKey": "your-api-key",<br>  "model": "your-model-name"<br>}<br>```</p><p>##<h3>Backend URL Provider</h3></p><p>Use g4f's centralized API gateway:</p><p>```json<br>{<br>  "provider": "default",<br>  "baseUrl": "https://g4f.space/api/{model}",<br>  "backupUrl": "https://g4f.space/api/{model}",<br>  "model": "auto"<br>}<br>```</p><p>The `{model}` placeholder is automatically replaced with the selected model.</p><p><h3>Method 3: Direct Model Selection</h3></p><p>Open WebUI can directly use g4f models by configuring the provider endpoints.</p><p>#<h3>Default Models by Provider</h3></p><p>```json<br>{<br>  "pollinations": "openai",<br>  "azure": "model-router3",<br>  "gemini": "models/gemini-2.5-flash",<br>  "openrouter": "openai/gpt-oss-120b:free",<br>  "nvidia": "deepseek-ai/deepseek-v3.2",<br>  "ollama": "deepseek-v3.2",<br>  "groq": "openai/gpt-oss-120b",<br>  "puter": "gpt-5.2-chat-latest"<br>}<br>```</p><p><h2>Configuration Examples</h2></p><p><h3>Complete Open WebUI Configuration</h3></p><p>Example Open WebUI configuration with g4f integration:</p><p>```json<br>{<br>  "models": [<br>    {<br>      "id": "g4f-auto",<br>      "name": "G4F Auto",<br>      "provider": "g4f",<br>      "baseUrl": "https://g4f.space/api",<br>      "apiKey": "not-required"<br>    },<br>    {<br>      "id": "g4f-gemini",<br>      "name": "G4F Gemini 2.5 Flash",<br>      "provider": "g4f",<br>      "baseUrl": "https://g4f.space/api/gemini",<br>      "apiKey": "not-required",<br>      "model": "models/gemini-2.5-flash"<br>    }<br>  ],<br>  "mcpServers": {<br>    "g4f": {<br>      "command": "python",<br>      "args": ["-m", "g4f.mcp"],<br>      "description": "GPT4Free MCP server with web search, scraping, and image generation"<br>    }<br>  }<br>}<br>```</p><p><h3>Environment Variables</h3></p><p>If needed, configure these environment variables for Open WebUI:</p><p>```bash<br><h1>For custom g4f backend</h1><br>export OPENAI_API_BASE_URL=https://g4f.space/api<br>export OPENAI_API_KEY=not-required</p><p><h1>For MCP server</h1><br>export G4F_MCP_PORT=8765<br>```</p><p><h2>API Endpoints</h2></p><p>When using g4f as a backend, the following endpoints are available:</p><p><h3>Models and Providers</h3></p><p>- `GET /backend-api/v2/models` - List all available models<br>- `GET /backend-api/v2/models/<provider>` - List models for specific provider<br>- `GET /backend-api/v2/providers` - List all providers</p><p><h3>Conversation</h3></p><p>- `POST /backend-api/v2/conversation` - Create/continue conversation<br>- `GET /backend-api/v2/create` - Quick conversation creation</p><p>For complete API documentation, see <a href="backend_api_documentation.md">Backend API Documentation</a>.</p><p><h2>Conversation Context Management</h2></p><p>G4F handles conversation context in two ways:</p><p><h3>1. Message History (Most Providers)</h3></p><p>Most providers use the standard OpenAI message format:</p><p>```python<br>messages = [<br>    {"role": "system", "content": "You are a helpful assistant."},<br>    {"role": "user", "content": "Hello!"},<br>    {"role": "assistant", "content": "Hi! How can I help you?"},<br>    {"role": "user", "content": "What's the weather?"}<br>]<br>```</p><p>Open WebUI automatically manages this history.</p><p><h3>2. Conversation Objects (OpenaiAccount)</h3></p><p>Some providers use conversation IDs:</p><p>```python<br>{<br>    "messages": [{"role": "user", "content": "Hello"}],<br>    "conversation": "conv_abc123"  <h1>Returned from previous response</h1><br>}<br>```</p><p>For detailed examples, see <a href="review/context.md">Chat Conversation Context Guide</a>.</p><p><h2>Features</h2></p><p><h3>Supported Capabilities</h3></p><p>- ‚úÖ Text generation<br>- ‚úÖ Streaming responses<br>- ‚úÖ Multi-turn conversations<br>- ‚úÖ System prompts<br>- ‚úÖ Vision models (üëì tagged providers)<br>- ‚úÖ Image generation (üé® tagged providers)<br>- ‚úÖ Audio models (üéß tagged providers)<br>- ‚úÖ Web search via MCP<br>- ‚úÖ Web scraping via MCP<br>- ‚úÖ Tool calling</p><p><h3>Rate Limiting</h3></p><p>Some providers have rate limiting configured (via `sleep` parameter):</p><p>- `api.airforce`: 60 seconds<br>- `master`: 10 seconds<br>- `audio`, `azure`, `ollama`: 10 seconds</p><p><h2>Troubleshooting</h2></p><p><h3>MCP Server Not Connecting</h3></p><p>1. Verify the MCP server is running:<br>   ```bash<br>   python -m g4f.mcp --http --port 8765<br>   curl -X POST http://localhost:8765/mcp \<br>     -H "Content-Type: application/json" \<br>     -d '{"jsonrpc":"2.0","id":1,"method":"tools/list","params":{}}'<br>   ```</p><p>2. Check Open WebUI MCP configuration path<br>3. Ensure CORS is enabled if using HTTP mode</p><p><h3>API Connection Issues</h3></p><p>1. Verify the base URL is correct<br>2. Check if the provider is rate-limited (check console logs)<br>3. Try the backup URL if available<br>4. Test with curl:<br>   ```bash<br>   curl -X POST https://g4f.space/api/chat/completions \<br>     -H "Content-Type: application/json" \<br>     -d '{"model":"auto","messages":[{"role":"user","content":"Hello"}]}'<br>   ```</p><p><h3>Models Not Appearing</h3></p><p>1. Check provider configuration in Open WebUI<br>2. Verify API endpoint is accessible<br>3. Review Open WebUI logs for errors</p><p><h2>Security Considerations</h2></p><p>- <strong>API Keys</strong>: Most g4f providers don't require API keys, but some do (check `providerLocalStorage` in providers.json)<br>- <strong>CORS</strong>: Required for browser-based MCP clients<br>- <strong>Rate Limiting</strong>: Respect provider rate limits to avoid blocks<br>- <strong>Local vs Hosted</strong>: Consider privacy when choosing between local and hosted options</p><p><h2>Advanced Configuration</h2></p><p><h3>Custom Provider with API Key</h3></p><p>```json<br>{<br>  "id": "g4f-openrouter",<br>  "name": "G4F via OpenRouter",<br>  "provider": "g4f",<br>  "baseUrl": "https://openrouter.ai/api/v1",<br>  "apiKey": "your-openrouter-api-key",<br>  "model": "openai/gpt-oss-120b:free"<br>}<br>```</p><p><h3>Multiple Provider Fallback</h3></p><p>Configure multiple providers with fallback:</p><p>```json<br>{<br>  "providers": [<br>    {<br>      "baseUrl": "https://g4f.space/api/gemini",<br>      "model": "models/gemini-2.5-flash",<br>      "priority": 1<br>    },<br>    {<br>      "baseUrl": "https://g4f.space/api/groq",<br>      "model": "openai/gpt-oss-120b",<br>      "priority": 2<br>    }<br>  ]<br>}<br>```</p><p><h2>Related Documentation</h2></p><p>- <a href="mcp-integration.md">MCP Integration</a> - Detailed MCP implementation<br>- <a href="mcp-usage-guide.md">MCP Usage Guide</a> - How to use MCP server<br>- <a href="review/context.md">Chat Conversation Context Guide</a> - Context handling<br>- <a href="backend_api_documentation.md">Backend API Documentation</a> - API reference<br>- <a href="client_js.md">Client JavaScript</a> - Browser client usage</p><p><h2>Examples</h2></p><p><h3>Complete Open WebUI Setup Script</h3></p><p>```bash<br>#!/bin/bash<br><h1>Setup g4f integration with Open WebUI</h1></p><p><h1>1. Install g4f (if not already installed)</h1><br>pip install g4f</p><p><h1>2. Start MCP server in background</h1><br>nohup python -m g4f.mcp --http --port 8765 > mcp.log 2>&1 &</p><p><h1>3. Create Open WebUI config directory</h1><br>mkdir -p ~/.config/openwebui</p><p><h1>4. Write MCP configuration</h1><br>cat > ~/.config/openwebui/mcp-config.json << EOF<br>{<br>  "mcpServers": {<br>    "g4f": {<br>      "url": "http://localhost:8765/mcp",<br>      "transport": "http",<br>      "description": "GPT4Free MCP server"<br>    }<br>  }<br>}<br>EOF</p><p><h1>5. Start Open WebUI with g4f provider</h1><br>docker run -d -p 3000:8080 \<br>  -e OPENAI_API_BASE_URL=https://g4f.space/api \<br>  -e OPENAI_API_KEY=not-required \<br>  -v ~/.config/openwebui:/app/backend/data \<br>  --name open-webui \<br>  ghcr.io/open-webui/open-webui:main</p><p>echo "Setup complete! Open WebUI available at http://localhost:3000"<br>echo "MCP server running on http://localhost:8765"<br>```</p><p><h3>Testing the Integration</h3></p><p>```bash<br><h1>Test MCP server</h1><br>curl -X POST http://localhost:8765/mcp \<br>  -H "Content-Type: application/json" \<br>  -d '{<br>    "jsonrpc": "2.0",<br>    "id": 1,<br>    "method": "tools/call",<br>    "params": {<br>      "name": "web_search",<br>      "arguments": {<br>        "query": "latest AI news",<br>        "max_results": 3<br>      }<br>    }<br>  }'</p><p><h1>Test API endpoint</h1><br>curl -X POST https://g4f.space/api/chat/completions \<br>  -H "Content-Type: application/json" \<br>  -d '{<br>    "model": "auto",<br>    "messages": [<br>      {"role": "user", "content": "Hello, how are you?"}<br>    ],<br>    "stream": false<br>  }'<br>```</p><p><h2>Support</h2></p><p>For issues and questions:</p><p>- GitHub Issues: <a href="https://github.com/gpt4free/g4f.dev/issues">gpt4free/g4f.dev</a><br>- Documentation: <a href="https://g4f.dev/docs">g4f.dev/docs</a><br>- MCP Protocol: <a href="https://modelcontextprotocol.io">modelcontextprotocol.io</a><br></div>
        </main>
    </div>

    
    <script>
        // Toggle Translation Widget
        document.getElementById("translate-toggle").addEventListener("click", function() {
            const el = document.getElementById("google_translate_element");
            el.style.display = (el.style.display === "none") ? "block" : "none";
        });

        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        // Enhanced syntax highlighting with error handling
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Generate table of contents
                generateTableOfContents();
            } catch (error) {
                console.error('Error generating table of contents:', error);
            }
        });

        function generateTableOfContents() {
            const headings = document.querySelectorAll('main h2, main h3');
            const tocList = document.getElementById('toc-list');
            
            if (!tocList || headings.length === 0) return;
            
            tocList.innerHTML = '';
            
            headings.forEach(function(heading, index) {
                const id = heading.id || `heading-${index}`;
                if (!heading.id) {
                    heading.id = id;
                }
                
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = `#${id}`;
                a.textContent = heading.textContent;
                a.setAttribute('aria-label', `Jump to ${heading.textContent}`);
                
                if (heading.tagName === 'H3') {
                    li.style.marginLeft = '1rem';
                    li.style.fontSize = '0.9em';
                }
                
                li.appendChild(a);
                tocList.appendChild(li);
            });
        }

        // Smooth scrolling for anchor links
        document.addEventListener('click', function(e) {
            if (e.target.tagName === 'A' && e.target.getAttribute('href').startsWith('#')) {
                e.preventDefault();
                const target = document.querySelector(e.target.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });

        // Add copy button to code blocks
        document.querySelectorAll('pre code, .highlight pre').forEach(function(block) {
            const button = document.createElement('button');
            button.textContent = 'Copy';
            button.className = 'copy-button';
            button.style.cssText = `
                position: absolute;
                top: 0.5rem;
                right: 0.5rem;
                background: rgba(139, 61, 255, 0.8);
                color: white;
                border: none;
                padding: 0.25rem 0.5rem;
                border-radius: 4px;
                cursor: pointer;
                font-size: 0.8rem;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            const pre = block.parentElement;
            pre.style.position = 'relative';
            pre.appendChild(button);
            
            pre.addEventListener('mouseenter', function() {
                button.style.opacity = '1';
            });
            
            pre.addEventListener('mouseleave', function() {
                button.style.opacity = '0';
            });
            
            button.addEventListener('click', function() {
                navigator.clipboard.writeText(block.textContent).then(function() {
                    button.textContent = 'Copied!';
                    setTimeout(function() {
                        button.textContent = 'Copy';
                    }, 2000);
                });
            });
        });
    </script>
</body>
</html>